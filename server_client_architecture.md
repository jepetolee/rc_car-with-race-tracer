# 서버-클라이언트 아키텍처 설계

## 개요

라즈베리 파이는 데이터 수집 및 추론만 담당하고, 학습은 서버에서 수행하는 구조

## 아키텍처

```
┌─────────────────┐         HTTP/WebSocket         ┌─────────────────┐
│  라즈베리 파이    │ ◄──────────────────────────► │   서버 (GPU)     │
│  (클라이언트)     │                               │   (학습 서버)    │
├─────────────────┤                               ├─────────────────┤
│ - 카메라 수집     │                               │ - 데이터 수신    │
│ - 하드웨어 제어   │                               │ - 모델 학습      │
│ - 추론 실행       │                               │ - 모델 저장      │
│ - 데이터 전송     │                               │ - 모델 제공      │
└─────────────────┘                               └─────────────────┘
```

## 통신 방식 옵션

### 옵션 1: 파일 기반 (간단)
- 라즈베리 파이: 데이터 수집 → pickle 파일 생성 → 서버로 업로드 (scp/sftp)
- 서버: 학습 수행 → 모델 파일 생성 → 라즈베리 파이로 다운로드

### 옵션 2: HTTP REST API (권장)
- 라즈베리 파이: 데이터 수집 → HTTP POST로 전송
- 서버: 데이터 수신 → 학습 → 모델 제공 (HTTP GET)

### 옵션 3: WebSocket (실시간)
- 라즈베리 파이: 실시간 이미지 전송
- 서버: 실시간 학습 및 액션 반환

## 구현 계획

### 1단계: HTTP REST API 서버 (서버 측)
- `/api/upload_data`: 데이터 수집 파일 업로드
- `/api/train`: 학습 시작
- `/api/model/latest`: 최신 모델 다운로드
- `/api/inference`: 실시간 추론 (선택)

### 2단계: 클라이언트 (라즈베리 파이)
- 데이터 수집 후 서버로 전송
- 모델 다운로드 및 추론 실행

